{"version":3,"file":"docsify-plugin-flexible-alerts.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","// eslint-disable-next-line no-unused-vars\nimport styles from './style.css';\n\n(function () {\n  const CONFIG = {\n    style: 'callout',\n    note: {\n      label: 'Note',\n      icon: 'fas fa-info-circle',\n      className: 'info'\n    },\n    tip: {\n      label: 'Tip',\n      icon: 'fas fa-lightbulb',\n      className: 'tip'\n    },\n    warning: {\n      label: 'Warning',\n      icon: 'fas fa-exclamation-triangle',\n      className: 'warning'\n    },\n    danger: {\n      label: 'Attention',\n      icon: 'fas fa-ban',\n      className: 'danger'\n    }\n  };\n\n  function mergeObjects(obj1, obj2, level = 0) {\n    for (const property in obj2) {\n      try {\n        // Property in destination object set; update its value.\n        if (obj2[property].constructor === Object && level < 1) {\n          obj1[property] = mergeObjects(obj1[property], obj2[property], level + 1);\n        } else {\n          obj1[property] = obj2[property];\n        }\n      } catch(e) {\n        // Property in destination object not set; create it and set its value.\n        obj1[property] = obj2[property];\n      }\n    }\n\n    return obj1;\n  }\n\n  const install = function (hook, vm) {\n    const options = mergeObjects(CONFIG, vm.config['flexible-alerts'] || vm.config.flexibleAlerts);\n\n    const findSetting = function findAlertSetting(input, key, fallback, callback) {\n      const match = (input || '').match(new RegExp(`${key}:(([\\\\s\\\\w\\\\u00A0-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF-]*))`));\n\n      if (!match) {\n        return callback ? callback(fallback) : fallback;\n      }\n\n      return callback ? callback(match[1]) : match[1];\n    };\n\n    hook.afterEach(function (html, next) {\n      const modifiedHtml = html.replace(/<\\s*blockquote[^>]*>(?:<p>|[\\S\\n]*)?\\[!(\\w*)((?:\\|[\\w*:[\\s\\w\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF-]*)*?)\\]([\\s\\S]*?)(?:<\\/p>)?<\\s*\\/\\s*blockquote>/g, function (match, key, settings, value) {\n        const config = options[key.toLowerCase()];\n\n        if (!config) {\n          return match;\n        }\n\n        const style = findSetting(settings, 'style', options.style);\n        let isIconVisible = findSetting(settings, 'iconVisibility', 'visible', (value) => value !== 'hidden');\n        let isLabelVisible = findSetting(settings, 'labelVisibility', 'visible', (value) => value !== 'hidden');\n        let label = findSetting(settings, 'label', config.label);\n        const icon = findSetting(settings, 'icon', config.icon);\n        const className = findSetting(settings, 'className', config.className);\n\n        // Label can be language specific and could be specified via user configuration\n        if (typeof label === 'object') {\n          const foundLabel = Object.keys(label).filter(function (key) {\n            return vm.route.path.indexOf(key) > -1;\n          });\n\n          if (foundLabel && foundLabel.length > 0) {\n            label = label[foundLabel[0]];\n          } else {\n            isLabelVisible = false;\n            isIconVisible = false;\n          }\n        }\n\n        const iconTag = `<i class=\"${icon}\"></i>`;\n\n        return (\n          `<div class=\"alert ${style} ${className}\">\n            <p class=\"title\">\n                ${isIconVisible ? iconTag : ''}\n                ${isLabelVisible ? label : ''}\n            </p>\n            <p>${value}</p>\n          </div>`\n        );\n      });\n\n      next(modifiedHtml);\n    });\n  };\n\n  window.$docsify = window.$docsify || {};\n  window.$docsify.plugins = [].concat(install, window.$docsify.plugins);\n}());\n"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","CONFIG","note","label","icon","className","tip","warning","danger","mergeObjects","obj1","obj2","level","property","constructor","Object","e","install","hook","vm","options","config","flexibleAlerts","findSetting","findAlertSetting","input","key","fallback","callback","match","RegExp","afterEach","html","next","modifiedHtml","replace","settings","value","toLowerCase","isIconVisible","isLabelVisible","_typeof","foundLabel","keys","filter","route","path","indexOf","length","iconTag","window","$docsify","plugins","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;;IAAA,SAASA,YAAYC,KAAKC;QACxB,IAAKA,aAAa,GAAIA,MAAM;QAC5B,IAAIC,WAAWD,IAAIC;QAEnB,KAAKF,cAAcG,aAAa,aAAa;YAAE;;QAE/C,IAAIC,OAAOD,SAASC,QAAQD,SAASE,qBAAqB,QAAQ;QAClE,IAAIC,QAAQH,SAASI,cAAc;QACnCD,MAAME,OAAO;QAEb,IAAIN,aAAa,OAAO;YACtB,IAAIE,KAAKK,YAAY;gBACnBL,KAAKM,aAAaJ,OAAOF,KAAKK;mBACzB;gBACLL,KAAKO,YAAYL;;eAEd;YACLF,KAAKO,YAAYL;;QAGnB,IAAIA,MAAMM,YAAY;YACpBN,MAAMM,WAAWC,UAAUb;eACtB;YACLM,MAAMK,YAAYR,SAASW,eAAed;;;;;KCpB7C;YACOe,SAAS;YACbT,OAAO;YACPU,MAAM;gBACJC,OAAO;gBACPC,MAAM;gBACNC,WAAW;;YAEbC,KAAK;gBACHH,OAAO;gBACPC,MAAM;gBACNC,WAAW;;YAEbE,SAAS;gBACPJ,OAAO;gBACPC,MAAM;gBACNC,WAAW;;YAEbG,QAAQ;gBACNL,OAAO;gBACPC,MAAM;gBACNC,WAAW;;;iBAINI,aAAaC,MAAMC;gBAAMC,4EAAQ;iBACnC,IAAMC,YAAYF,MAAM;;wBAGrBA,KAAKE,UAAUC,gBAAgBC,UAAUH,QAAQ,GAAG;wBACtDF,KAAKG,YAAYJ,aAAaC,KAAKG,WAAWF,KAAKE,WAAWD,QAAQ;2BACjE;wBACLF,KAAKG,YAAYF,KAAKE;;kBAExB,OAAMG;oBAENN,KAAKG,YAAYF,KAAKE;;;mBAInBH;;YAGHO,UAAU,SAAVA,QAAoBC,MAAMC;gBACxBC,UAAUX,aAAaR,QAAQkB,GAAGE,OAAO,sBAAsBF,GAAGE,OAAOC;gBAEzEC,cAAc,SAASC,iBAAiBC,OAAOC,KAAKC,UAAUC;oBAC5DC,SAASJ,SAAS,IAAII,MAAM,IAAIC,iBAAUJ;qBAE3CG,OAAO;2BACHD,WAAWA,SAASD,YAAYA;;uBAGlCC,WAAWA,SAASC,MAAM,MAAMA,MAAM;;YAG/CX,KAAKa,UAAU,SAAUC,MAAMC;oBACvBC,eAAeF,KAAKG,QAAQ,yJAAyJ,SAAUN,OAAOH,KAAKU,UAAUC;wBACnNhB,SAASD,QAAQM,IAAIY;yBAEtBjB,QAAQ;+BACJQ;;wBAGHrC,QAAQ+B,YAAYa,UAAU,SAAShB,QAAQ5B;wBACjD+C,gBAAgBhB,YAAYa,UAAU,kBAAkB,WAAW,SAACC;+BAAUA,UAAU;;wBACxFG,iBAAiBjB,YAAYa,UAAU,mBAAmB,WAAW,SAACC;+BAAUA,UAAU;;wBAC1FlC,QAAQoB,YAAYa,UAAU,SAASf,OAAOlB;wBAC5CC,OAAOmB,YAAYa,UAAU,QAAQf,OAAOjB;wBAC5CC,YAAYkB,YAAYa,UAAU,aAAaf,OAAOhB;wBAGxDoC,QAAOtC,WAAU,UAAU;4BACvBuC,aAAa3B,OAAO4B,KAAKxC,OAAOyC,OAAO,SAAUlB;mCAC9CP,GAAG0B,MAAMC,KAAKC,QAAQrB,QAAQ;;4BAGnCgB,cAAcA,WAAWM,SAAS,GAAG;4BACvC7C,QAAQA,MAAMuC,WAAW;+BACpB;4BACLF,iBAAiB;4BACjBD,gBAAgB;;;wBAIdU,8BAAuB7C;uDAGNZ,mBAASa,yEAEtBkC,gBAAgBU,UAAU,iCAC1BT,iBAAiBrC,QAAQ,kDAE1BkC;;gBAKXJ,KAAKC;;;QAITgB,OAAOC,WAAWD,OAAOC,YAAY;QACrCD,OAAOC,SAASC,UAAU,GAAGC,OAAOpC,SAASiC,OAAOC,SAASC;MAvG9D;"}