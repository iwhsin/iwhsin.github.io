# 1. lambda 表达式

- 概述：lambda 表达式是 java 8 中引入的新特性，提供了对`函数式编程`的轻度支持，旨在为开发者提供方便，提高开发效率。<br>

- 什么是 lambda 表达式？

  > 我们知道在 Java 中除了 8 大基本数据类型外其它都是引用数据类型也就是我们所说的对象，对于数据的处理是依赖于对象的属性和行为。<br>
  > 在 Java 中的抽象概念都是对于数据进行抽象，而 Lambda 表达式提供了一种对对象的行为进行抽象的一种编程模型，将方法作为参数进行传递。</br>
  > Lambda 表达式的引入将 Java 传统的面向对象编程进行了扩展，提供了以中新的“函数式编程”模型，两者进行结合能够更加有效地帮助我们管理程序的复杂性。<br>

- lambda 的概念定义：
  - 对对象的行为进行抽象，将方法作为参数进行传递；
  - lambda 表达式是一种可传递的匿名函数，简单来说，这是一种没有声明的方法（没有访问修饰符，返回值声明和名称，有参数列表、函数主体、返回类型，可能还有一个可以抛出的异常列表。）。
    - 可传递：Lambda 表达式可以作为参数传递给方法或存储在变量中；
    - 匿名：没有明确的函数名称；
    - 函数：Lambda 表达式是函数，和其它方法一样有参数列表、函数主体、返回类型、还可能有可以抛出的异常列表，但是不像其它方法那样属于某个特定的类；
    - 简洁：无需像匿名类那样写很多模板代码。
  - 该匿名函数并非独立执行，而是用于实现由函数式接口定义的唯一抽象方法，使用 Lambda 表达式时，会创建实现了函数式接口的一个匿名类实例；
  - 可以将 Lambda 表达式视为一个对象，可以将其作为参数传递。

## 1.1. lambda 表达式的使用

- 概述：在 java 中使用 lambda 表达式，编译时`javac`会自动帮助查找某个对应的函数式接口，将`lambda`表达式转换成正确的接口类型的实例。

- 合法的使用`lambda`表达式

  - lambda 表达式必须出现在期望使用接口类型实例的地方；
  - 期望使用的接口类型必须只有一个抽象方法；
  - 这个强制方法的签名要完全匹配 lambda 表达式。

- lambda 表达式的语法

  ```java
  (arg1, arg2...) -> { body }
  (Object arg1, Object arg2...) -> { body }
  ```

  - Lambda 表达式由参数列表、箭头和 Lambda 主体组成。
    - 参数列表：与对应的函数式接口的功能方法的参数列表相同；
    - 箭头：将参数列表和 lambda 表达式主体分开；
    - lambda 主体：表达式就是 lambda 的返回值。

- lambda 表达式的结构

  - Lambda 表达式可以具有零个，一个或多个参数。
    - 可以显式声明参数的类型，也可以由编译器自动从上下文推断参数的类型。例如 (int a) 与刚才相同 (a)。
    - 参数用小括号括起来，用逗号分隔。例如 (a, b) 或 (int a, int b) 或 (String a, int b, float c)。
    - 空括号用于表示一组空的参数。例如 () -> 42。
    - 当且仅有一个参数时，如果不显式指明类型，则不必使用小括号。例如 a -> return a\*a。
  - Lambda 表达式的正文可以包含零条，一条或多条语句。
    - 如果 Lambda 表达式的正文只有一条语句，则大括号可不用写，且表达式的返回值类型要与匿名函数的返回类型相同。
    - 如果 Lambda 表达式的正文有一条以上的语句必须包含在大括号（代码块）中，且表达式的返回值类型要与匿名函数的返回类型相同。

- 为什么使用 Lambda 表达式？
  - 简化我们的代码编写，将函数作为参数进行传递，使得代码更加优雅易读；
  - 使用 Lambda 表达式可以将传统编程中的外部迭代转换为内部迭代使得效率更高。

## 1.2. 使用总结

### 1.2.1. Java 是函数式语言吗？

> java 提供了对函数式编程的轻度支持，但是 Java 的语言特性决定了它不可能成为函数式语言。

    * Java没有结构类型，因此没有“真正的”函数类型。每个`lambda`表达式都会自动转换成适当的名义类型（函数式接口实现类）。
    * 类型擦除在函数式编程中会导致问题——高阶函数的类型安全性会丢失。
    * Java天生可改变，一般认为，可变性是函数式语言极不需要的特性。

### 1.2.2. 使用注意

- 使用`lambda`表达式会创建实现了函数式接口的一个匿名类实例，但是无法访问接口的默认方法，Lambda 表达式只能去匹配对应接口中的唯一抽象方法。相当于 Lambda 表达式只是对抽象方法的实现，并没有创建接口的实现类对象，因为我们只是想使用这个抽象方法的实现。
