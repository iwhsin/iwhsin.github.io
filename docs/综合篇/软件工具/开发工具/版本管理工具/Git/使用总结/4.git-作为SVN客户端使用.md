# Git 作为SVN客户端使用

## SVN客户端
&emsp;&emsp;Git提供了`git svn`可以很轻松的连接`Subversion`仓库进行版本管理。

## SVN迁移Git
&emsp;&emsp;Git提供了SVN客户端功能，同时可以很轻松的迁移到Git仓库。

- 用户信息映射准备<br>
    - 创建用户信息映射文件user.txt。
    - 编写用户信息映射
        ```
        svn用户=git用户<邮箱地址>
        ```

&emsp;&emsp;可以通过`svn log`命令批量获取历史提交记录中的SVN用户信息
``` bash
svn log --xml |grep author |sort -u |perl -pe 's/.*>(.*?)<.*/$1=$1<$1@icccuat.com> /' > users.info
# 解释
#    svn log:  查看历史提交记录
#    --xml:  以xml格式输出
#    |grep author:  过滤含有author的行内容
#    |sort -u:  剔除重复行
#    |perl -pe 's/.*>(.*?)<.*/$1=$1<$1@icccuat.com> /':  正则替换
#    > user.info:  输出到指定的文件中
```

- 克隆SVN项目
``` bash
git svn clone svnUrl -r n:HEAD --authors-file=users.info --no-metadata --prefix ""
# 解释
#   svnUrl: SVN远程仓库地址
#   -r n:HEAD：指定拉取的提交记录范围
#   --authors-file=users.info：用户信息映射文件
#   --no-metadata: 不保留SVN原信息，如果要将Git仓库中的提交记录回原SVN仓库中时，需要保留元数据。
```
