# Redis 开发规范

## 命名规范

### Key 名设计

- 建议：
  1. 可读性和可管理性
     - 以业务名(或数据库名)为前缀(防止 key 冲突)，用冒号分隔，比如业务名:表名:id
  2. 简洁性
     - 保证语义的前提下，控制 key 的长度，当 key 较多时，内存占用也不容忽视，例如：user:{uid}:friends:messages:{mid} 可简化为 u:{uid}:fr:m:{mid}
  3. 不要包含特殊字符：
     - 空格、换行、单双引号以及其他转义字符。

### Value 设计

## 安全规范

### 指令安全

&emsp;&emsp;对于类似`keys`、`flushdb`、`flushall`等会对 Redis 的稳定或数据安全造成严重影响的指令,通常可以通过`rename`指定别名或者直接置空禁用的方式避免危险指令的执行.

### 端口安全

&emsp;&emsp;对于客户端的连接可以通过 ip 白名单配置的方式限制客户端的非法连接.

### 脚本安全

&emsp;&emsp;避免 Lua 脚本由用户输入的内容 (UGC) 生成，这可能会被黑客利用以植入恶意的攻击代码来得到 Redis 的主机权限.

### 安全配置

- 限制 Redis 以普通用户的身份启动,避免系统高级权限用户被获取.
- 配置密码认证,避免弱口令的使用
- 使用 SSL 代理避免客户端和服务器之间的交互数据暴露在公网.
